#include <stdio.h>
#include <string.h>

void test_ld_lasx(int*);
void test_ldx_lasx(int*);
void test_xor_lasx(int*);
void test_ilvl_lasx(int*);

void test_ld_c() {
    int ref[64] = {
    0, 1,   2,   3,   4,   5,   6,   7,
    8, 9, 0xa, 0xb, 0xc, 0xd, 0xe, 0xf,
    0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,
    0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f,
    0, 1,   2,   3,   4,   5,   6,   7,
    8, 9, 0xa, 0xb, 0xc, 0xd, 0xe, 0xf,
    0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,
    0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f
    };
    int dst[64];
    test_ld_lasx(dst);
    if (!memcmp(dst, ref, 64 * 4))
    {
        printf("Macro LD utest passed !!! \n");
        return;
    }
    printf("Macro LD utest failed !!! \n");
}

void test_ldx_c() {
    int ref[64] = {
    0, 1,   2,   3,   4,   5,   6,   7,
    8, 9, 0xa, 0xb, 0xc, 0xd, 0xe, 0xf,
    0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,
    0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f,
    0, 1,   2,   3,   4,   5,   6,   7,
    8, 9, 0xa, 0xb, 0xc, 0xd, 0xe, 0xf,
    0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,
    0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f
    };
    int dst[64];
    test_ldx_lasx(dst);
    if (!memcmp(dst, ref, 64 * 4))
    {
        printf("Macro LDX utest passed !!! \n");
        return;
    }
    printf("Macro LDX utest failed !!! \n");
}

void test_xor_c() {
    int ref[48] = {
    0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0,
    0x10^0x14, 0x11^0x15, 0x12^0x16, 0x13^0x17,
    0x18^0x1c, 0x19^0x1d, 0x1a^0x1e, 0x1b^0x1f,
    0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0,
    0x10^0x18, 0x11^0x19, 0x12^0x1a, 0x13^0x1b,
    0x14^0x1c, 0x15^0x1d, 0x16^0x1e, 0x17^0x1f
    };
    int dst[48];
    test_xor_lasx(dst);
    if (!memcmp(dst, ref, 48 * 4))
    {
        printf("Macro XOR utest passed !!! \n");
        return;
    }
    printf("Macro XOR utest failed !!! \n");
}

void test_ilvl_c() {
    int ref[48] = {
    0, 0, 1, 1, 4, 4, 5, 5,
    8, 8, 9, 9, 0xc, 0xc, 0xd, 0xd,
    0x10, 0x14, 0x11, 0x15, 0x18, 0x1c, 0x19, 0x1d,
    0, 0, 1, 1, 4, 4, 5, 5,
    8, 8, 9, 9, 0xc, 0xc, 0xd, 0xd,
    0x10, 0x18, 0x11, 0x19, 0x14, 0x1c, 0x15, 0x1d
    };
    int dst[48];
    test_ilvl_lasx(dst);
    if (!memcmp(dst, ref, 48 * 4))
    {
        printf("Macro ILVL utest passed !!! \n");
        return;
    }
    printf("Macro ILVL utest failed !!! \n");
}

void main() {
    test_ld_c();
    test_ldx_c();
    test_xor_c();
    test_ilvl_c();
}
